<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title>다형성(Polymorphism) | Youmekko</title><meta name="description" content="다형성(Polymorphism) - Youme Choi"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/theme.css"><link rel="search" type="application/opensearchdescription+xml" href="/atom.xml" title="Youmekko"><meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="Youmekko" type="application/atom+xml">
</head><body><div class="wrap"><header><h1 class="branding"><a href="/" title="Youmekko">Youmekko</a></h1><ul class="nav nav-list"><li class="nav-list-item"><a class="nav-list-link" href="/" target="_self">HOME</a></li><li class="nav-list-item"><a class="nav-list-link" href="/archives" target="_self">ARCHIVES</a></li><li class="nav-list-item"><a class="nav-list-link" href="https://github.com/youmekko" target="_blank">GITHUB</a></li><li class="nav-list-item"><a class="nav-list-link" href="/atom.xml" target="_self">RSS</a></li><li class="nav-list-item"><a class="nav-list-link" href="/about" target="_self">ABOUT</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">다형성(Polymorphism)</h1><div class="post-info"><a></a>2017-12-04</div><div class="post-content"><h2 id="다형성-Polymorphism"><a href="#다형성-Polymorphism" class="headerlink" title="다형성(Polymorphism)"></a>다형성(Polymorphism)</h2><ul>
<li>상속 관계의 클래스들에서 자식 객체를 부모 객체의 자료형 변수에 저장할 수 있는 할 수 있는 것을 다형성이라고 한다.</li>
<li>상위 개념(부모 클래스)의 변수에 하위 개념(자식 클래스)를 저장시 자동(암시적) 타입 변환이 일어난다.</li>
<li>하위 개념(자식 클래스)의 변수에 상위 개념(부모 클래스)를 저장시 강제(명세적) 타입 변환이 필요하다.</li>
<li>객체의 부품화 구현을 가능하게 한다. 예를 들어 상위 개념인 ‘타이어’ 라는 자료형에 ‘한국 타이어’ 혹은 ‘금호 타이어 ‘ 객체를 선택적으로 대입 할 수 있다.</li>
<li><strong>주의사항) 상위 개념의 변수에 하위 개념의 객체를 저장 할 때 상위 개념의 능력 범위만 사용 가능하다. 즉, 부모 클래스의 필드와 메소드만 호출 된다는 의미이다. 단, 오버라이딩 상태인 경우는 자식 메소드가 호출 될 수 있다.</strong><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> polymorphism;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SuperClass</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">superMethod</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"슈퍼클래스의 슈퍼메소드"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SubClass</span> <span class="keyword">extends</span> <span class="title">SuperClass</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">subMethod</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"서브 클래스의 서브메소드"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">superMethod</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"슈퍼 클래스의 슈퍼메소드를 서브 클래스에서 오버라이드한 메소드"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">		SuperClass sup = <span class="keyword">new</span> SubClass();</span><br><span class="line">        <span class="comment">// sup.subMethod(); 컴파일 에러</span></span><br><span class="line"></span><br><span class="line">		sup.superMethod();</span><br><span class="line">        <span class="comment">// 결과 : 슈퍼 클래스의 슈퍼메소드를 서브 클래스에서 오버라이드한 메소드</span></span><br><span class="line"></span><br><span class="line">		<span class="comment">// 상위 자료형의 객체를 하위 자료형 변수에 저장 불가</span></span><br><span class="line">		<span class="comment">// SubClass sub = new SuperClass();</span></span><br><span class="line"></span><br><span class="line">		<span class="comment">// sup 변수는 자료형이 SuperClass 이지만 내부적으로 하위 자료형 객체(SubClass)를 저장하고 있다.</span></span><br><span class="line">		<span class="comment">// SuperClass자료형 변수에 저장된 하위 자료형 객체를 원래의 자료형 변수에 저장 가능</span></span><br><span class="line">		<span class="comment">// -&gt;강제(명시적) 형변환 필요</span></span><br><span class="line">		SubClass sub = (SubClass) sup;</span><br><span class="line"></span><br><span class="line">		sub.subMethod();</span><br><span class="line">	   &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<h3 id="필드의-다형성"><a href="#필드의-다형성" class="headerlink" title="필드의 다형성"></a>필드의 다형성</h3><p>(이하, 이것이 자바다(1) 311p~부터.  이해하기 쉬워서 그대로 옮기고 있다.)<br>왜 자동 타입 변환이 필요할까?<br>그냥 자식 타입으로 사용하면 될 것을 부모 타입으로 변환해서 사용하는 이유가 무엇일까?<br>그것은 다형성을 구현하는 기술적인 방법이기 때문이다.<br><u>다형성이란 동일한 타입을 사용하지만 다양한 결과가 나온는 성질을 말한다.</u><br>주로 필드의 값을 다양화 함으로써 실행 결과가 다르게 나오도록 구현하는데,<br>필드 타입은 변함이 없지만<br>실행 도중에 어떤 객체를 필드로 저장하느냐에 따라 실행 결과가 달라질 수 있다.<br>이것이 필드의 다형성이다.</p>
<p>예) 자동차를 구성하는 부품은 언제든지 교체 될 수 있다.<br>부품은 고장 날 수도 있고, 보다 더 성능이 좋은 부품으로 교체되기도 한다.<br>프로그램도 마찬가지이다.<br>프로그램은 수 많은 객체들이 서로 연결되고 각자의 역학을 하게 되는데, 이 객 체들은 다른 객체로 교체 될 수 있어야 한다.</p>
<p>예를 들어 자동차 클래스에 포함된 타이어 클래스를 생각해보자.<br>자동차 클래스를 처음 설계할 때 사용한 타이어 객체는 언제든지 성능이 좋은 다른 타이어 객체로 교체할 수 있어야 한다.<br>새로 교체되는 타이어 객체는 기존 타이어와 사용 방법은 동일하지만<br>실행 결과는 더 우수하게 나와야 할 것이다.<br>이것을 프로그램으로 구현하기 위해서는 상속과 오버라이딩, 크리고 타입 변환을 이용하는 것이다.<br>부모 클래스를 상속하는 자식 클래스는 부모가 가지고 있는 필드와 메소드를 가지고 있으나 사용방법이 동일할 것이고,<br>자식 클래스는 부모의 메소드를 오버라이딩(재정의) 해서 메소드의 실행 내용을 변경함으로써 더 우수한 실행 결과가 나오게 할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Car</span></span>&#123;</span><br><span class="line">  <span class="comment">//필드</span></span><br><span class="line">  Tire frontLeftTire = <span class="keyword">new</span> Tire();</span><br><span class="line">  Tire frontRightTire = <span class="keyword">new</span> Tire();</span><br><span class="line">  Tire backLeftTire = <span class="keyword">new</span> Tire();</span><br><span class="line">  Tire backRightTire = <span class="keyword">new</span> Tire();</span><br><span class="line">  </span><br><span class="line">  <span class="comment">//메소드</span></span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123; ...&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Car 클래스는 4개의 Tire 필드를 가지고 있다.<br>Car클래스로 부터 Car객체를 생성하면 4개의 Tire 필드에 각각 하나씩 Tire 객체가 들어가게 된다.<br>그런데 frontRightTire와 BackLeftTire를 HankookTire와 KumhoTire로 교체할 필요성이 생겼다.<br>이런 경우 다음과 같은 코드를 사용해서 교체할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Car myCar = <span class="keyword">new</span> Car();</span><br><span class="line">myCar.frontRightTire = <span class="keyword">new</span> HankookTire();</span><br><span class="line">myCar.backLeftTire = <span class="keyword">new</span> kumhoTire();</span><br></pre></td></tr></table></figure>
<p>Tire 클래스 타입인 frontRightTire와 BackLeftTire는 원래 Tire객체가 저장되어야 하지만, Tire 객체의 자식 객체가 저장되어도 문제가 없다.<br>왜냐하면 자식 타입은 부모 타입으로 자동 타입 변환 되기 때문이다.<br>frontRightTire와 BackLeftTire에 Tire 자식 객체가 저장 되어도 Car객체는 Tire 클래스에 선언된 필드와 메소드만 사용하므로 전혀 문제가 되지 않는다.<br>HankkoTire와 KumhoTire는 부모인 Tire의 필드와 메소드를 가지고 있기 때문이다.</p>
<p>밑의 예제 코드로 다형성에 대한 이해도를 높일 수 있었다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> polymorphism002;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Car</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 필드</span></span><br><span class="line">	Tire frontLeftTire = <span class="keyword">new</span> Tire(<span class="string">"앞왼쪽"</span>, <span class="number">6</span>);</span><br><span class="line">	Tire frontRightTire = <span class="keyword">new</span> Tire(<span class="string">"앞오른쪽"</span>, <span class="number">2</span>);</span><br><span class="line">	Tire backLeftTire = <span class="keyword">new</span> Tire(<span class="string">"뒤왼쪽"</span>, <span class="number">3</span>);</span><br><span class="line">	Tire backRightTire = <span class="keyword">new</span> Tire(<span class="string">"뒤오른쪽"</span>, <span class="number">4</span>);</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 생성자</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// 메소드</span></span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"자동차가 달립니다."</span>);</span><br><span class="line">		<span class="keyword">if</span> (frontLeftTire.roll() == <span class="keyword">false</span>) &#123;</span><br><span class="line">			stop();</span><br><span class="line">			<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (frontRightTire.roll() == <span class="keyword">false</span>) &#123;</span><br><span class="line">			stop();</span><br><span class="line">			<span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (backLeftTire.roll() == <span class="keyword">false</span>) &#123;</span><br><span class="line">			stop();</span><br><span class="line">			<span class="keyword">return</span> <span class="number">3</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (backRightTire.roll() == <span class="keyword">false</span>) &#123;</span><br><span class="line">			stop();</span><br><span class="line">			<span class="keyword">return</span> <span class="number">4</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">stop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"[자동차가 멈춥니다.]"</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> polymorphism002;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Tire</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">int</span> maxRotation;                 <span class="comment">//타이어의 최대 회전수 수명</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">int</span> accumulatedRoataion;         <span class="comment">//누적 회전수</span></span><br><span class="line">	<span class="keyword">public</span> String location;                 <span class="comment">//타이어 위치</span></span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Tire</span><span class="params">(String location, <span class="keyword">int</span> maxRotation)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.location = location;</span><br><span class="line">		<span class="keyword">this</span>.maxRotation = maxRotation;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">roll</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		++accumulatedRoataion;</span><br><span class="line">		<span class="keyword">if</span>(accumulatedRoataion &lt; maxRotation) &#123;</span><br><span class="line">			System.out.println(location + <span class="string">"Tire 수명: "</span> + (maxRotation - accumulatedRoataion) + <span class="string">"회"</span>);</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123; </span><br><span class="line">			System.out.println(<span class="string">"***"</span> + location + <span class="string">"Tire 펑크***"</span>);</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> polymorphism002;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HankookTire</span> <span class="keyword">extends</span> <span class="title">Tire</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 필드</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// 생성자</span></span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">HankookTire</span><span class="params">(String location, <span class="keyword">int</span> maxRotation)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">super</span>(location, maxRotation);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 메소드</span></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">roll</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		++accumulatedRoataion;</span><br><span class="line">		<span class="keyword">if</span> (accumulatedRoataion &lt; maxRotation) &#123;</span><br><span class="line">			System.out.println(location + <span class="string">"Hankook Tire 수명: "</span> + (maxRotation - accumulatedRoataion) + <span class="string">"회"</span>);</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			System.out.println(<span class="string">"***"</span> + location + <span class="string">"Hankook Tire 펑크***"</span>);</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> polymorphism002;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">KumhoTire</span> <span class="keyword">extends</span> <span class="title">Tire</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">KumhoTire</span><span class="params">(String location, <span class="keyword">int</span> maxRotation)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">super</span>(location, maxRotation);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 메소드</span></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">roll</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		++accumulatedRoataion;</span><br><span class="line">		<span class="keyword">if</span> (accumulatedRoataion &lt; maxRotation) &#123;</span><br><span class="line">			System.out.println(location + <span class="string">"Kumho Tire 수명: "</span> + (maxRotation - accumulatedRoataion) + <span class="string">"회"</span>);</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			System.out.println(<span class="string">"***"</span> + location + <span class="string">"Kumho Tire 펑크***"</span>);</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> polymorphism002;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CarExample</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Car car = <span class="keyword">new</span> Car();</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">5</span>; i++) &#123;</span><br><span class="line">			<span class="keyword">int</span> problemLocation = car.run();</span><br><span class="line"></span><br><span class="line">			<span class="keyword">switch</span> (problemLocation) &#123;</span><br><span class="line">			<span class="keyword">case</span> <span class="number">1</span> :</span><br><span class="line">				System.out.println(<span class="string">"앞 왼쪽 HankookTire로 교체"</span>);</span><br><span class="line">				car.frontLeftTire = <span class="keyword">new</span> HankookTire(<span class="string">"앞 왼쪽"</span>, <span class="number">15</span>);</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">				</span><br><span class="line">			<span class="keyword">case</span> <span class="number">2</span>: </span><br><span class="line">				System.out.println(<span class="string">"앞 오른쪽 KumhoTire로 교체"</span>);</span><br><span class="line">				car.frontRightTire = <span class="keyword">new</span> KumhoTire(<span class="string">"앞 오른쪽"</span>, <span class="number">13</span>);</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">				System.out.println(<span class="string">"뒤 왼쪽 HankookTire로 교체"</span>);</span><br><span class="line">				car.backLeftTire = <span class="keyword">new</span> HankookTire(<span class="string">"뒤 왼쪽"</span>, <span class="number">14</span>);</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">				System.out.println(<span class="string">"뒤 오른쪽 KumhoTire로 교체"</span>);</span><br><span class="line">				car.backRightTire = <span class="keyword">new</span> KumhoTire(<span class="string">"뒤 오른쪽"</span>, <span class="number">17</span>);</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">			&#125;</span><br><span class="line">			System.out.println(<span class="string">"-----------------------------------"</span>);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>결과&gt;<br><img src="/img/polymorphism.png" alt=""></p>
<hr>
<h3 id="하나의-배열로-객체-관리"><a href="#하나의-배열로-객체-관리" class="headerlink" title="하나의 배열로 객체 관리"></a>하나의 배열로 객체 관리</h3><p>위의 예제에서 Car 클래스에 4개의 객체를 4개의 필드로 각각 저장했다.<br>우리는 동일한 타입의 값든은 배열로 관리하는 것이 유리하다는 것을 알고 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Car</span></span>&#123;</span><br><span class="line">  Tire[] tires = &#123;</span><br><span class="line">    <span class="keyword">new</span> Tire(<span class="string">"앞왼쪽"</span>, <span class="number">6</span>);</span><br><span class="line">    <span class="keyword">new</span> Tire(<span class="string">"앞오른쪽"</span>, <span class="number">2</span>);</span><br><span class="line">    <span class="keyword">new</span> Tire(<span class="string">"뒤왼쪽"</span>, <span class="number">3</span>);</span><br><span class="line">    <span class="keyword">new</span> Tire(<span class="string">"뒤오른쪽"</span>, <span class="number">4</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>각 tires[index_number]로 표현되므로 대입이나 제어문에서 활용하기 매우 쉽다.</p>
<hr>
<h3 id="매개변수의-다형성"><a href="#매개변수의-다형성" class="headerlink" title="매개변수의 다형성"></a>매개변수의 다형성</h3><p>자동 타입 변환은 필드의 값을 대입할 때도 발생하지만, 주로 메소드를 호출할 때 많이 발생한다.<br>메소드를 호출할 때에는 매개 변수의 타입과 동일한 매개 값을 지정하는 것이 정석이지만,<br>매개 값을 다양화 하기 위해 매개 변수에 자식 타입 객체를 지정 할 수도 있다.<br>매개변수의 타입이 클래스 일 경우, 해당 클래스의 객체 뿐아니라, 자식 객체 까지도 매개값으로 사용할 수 있다.<br>매개값으로 어떤 자식 객체가 제공 되느냐에 따라 메소드의 실행 결과는 다양해 질 수 있다.(매개 변수의 다형성)<br>자식 객체가 부모의 메소드를 오버라이딩했다면 메소드 내부에서 오버라이딩 된 메소드를 호출함으로써 메소드의 실행 결과는 다양해 진다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> polymorphism003;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Driver</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">drive</span><span class="params">(Vehicle vehicle)</span> </span>&#123;</span><br><span class="line">		vehicle.run();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Vehicle</span> </span>&#123;</span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"차량이 달랍니다."</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Bus</span> <span class="keyword">extends</span> <span class="title">Vehicle</span> </span>&#123;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"버스가 달립니다."</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Taxi</span> <span class="keyword">extends</span> <span class="title">Vehicle</span> </span>&#123;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"택시가 달립니다."</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DriveExample</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Driver driver = <span class="keyword">new</span> Driver();</span><br><span class="line">		Bus bus = <span class="keyword">new</span> Bus();</span><br><span class="line">		Taxi taxi = <span class="keyword">new</span> Taxi();</span><br><span class="line"></span><br><span class="line">        driver.drive(bus);  <span class="comment">//결과 : 버스가 달립니다.</span></span><br><span class="line">		driver.drive(taxi); <span class="comment">//결과 : 택시가 달립니다.</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="강제-타입-변환-Casting"><a href="#강제-타입-변환-Casting" class="headerlink" title="강제 타입 변환(Casting)"></a>강제 타입 변환(Casting)</h3><p>강제 타입 변환(Casting)은 부모 타입을 자식 타입으로 변환하는 것을 말한다.<br>그렇다고 해서 모든 부모 타입을 자식 클래스 타입으로 강제 변환 할 수 있는 것은 아니다.<br><em>자식 타입이 부모 타입으로 자동 변환한 후, 다시 자식 타입으로 변환 할 때 강제 타입 변환을 사용할 수 있다.</em></p>
<p><code>자식클래스 변수 = (자식클래스) 부모클래스타입(자식 타입이 부모 타입으로 변환된 상태);</code><br>자식 타입이 부모 타입으로 자동 변환 되면, 부모 타입에 선언된 필드와 메소드만 사용가능하다는 제약 사항이 따른다. 만약 자식 타입에 선언된 필드와 메소드를 꼭 사용해야 한다면 강제 타입 변환을 해서 다시 자식 타입 타입으로 변환한 다음, 자식 타입의 필드와 메소드를 사용하면 된다.</p>
<hr>
<h3 id="객체-타입-확인-instanceof"><a href="#객체-타입-확인-instanceof" class="headerlink" title="객체 타입 확인(instanceof)"></a>객체 타입 확인(instanceof)</h3><p>강제 타입 변환은 자식이 부모 타입으로 변환되어 있는 상태에서만 가능하기 때문에,<br>부모 타입의 변수가 부모 객체를 참조할 경우, 자식 타입으로 변환 할 수 없다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Parent parent = <span class="keyword">new</span> Parent();</span><br><span class="line">Child child = (Child) parents; <span class="comment">//컴파일 에러</span></span><br></pre></td></tr></table></figure>
<p>어떤 객체가 어떤 클래스의 인스턴스인지 확인하려면 instanceOf 연산자를 사용할 수 있다.<br>좌항은 객체가 오고 우항은 타입이 오는데<br>좌향의 객체가 우항의 인스턴스 이면, 즉 우항의 타입으로 객체가 생성다면 true, 아니면 false를 리턴한다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">boolean</span> result = (좌항)객체 <span class="keyword">instanceof</span> 우항(타입);</span><br></pre></td></tr></table></figure>
<p>intstanceOf 연산자는 매개값의 타입을 조사할 때 주로 사용된다.<br>메소드 내에서 강제 타입 변환이 필요할 경우 반드시 매개값이 어떤 객체인지 instanceOf 연산자로 확인하고<br>안전하게 강제 타입 변환을 해야한다. 만약 타입을 확인하지 않고 변환을 시도한다면 ClassCastException 예외가 발생할 수 있다.<br>(예) Child 클래스가 Parent 클래스를 상속 받을 때</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> polymorphism004;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InstanceOfSample</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">method1</span><span class="params">(Parent parent)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (parent <span class="keyword">instanceof</span> Child) &#123;</span><br><span class="line">			Child child = (Child) parent;</span><br><span class="line">			System.out.println(<span class="string">"method1 -&gt; Child로 변환 성공"</span>);</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			System.out.println(<span class="string">"method1 -&gt; Child로 변환되지 않음"</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">method2</span><span class="params">(Parent parent)</span> </span>&#123;</span><br><span class="line">		Child child = (Child) parent;</span><br><span class="line">		System.out.println(<span class="string">"method2 -&gt; Child로 변환 성공"</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Parent parentA = <span class="keyword">new</span> Child();</span><br><span class="line"></span><br><span class="line">		method1(parentA);</span><br><span class="line">		method2(parentA);</span><br><span class="line"></span><br><span class="line">		Parent parentB = <span class="keyword">new</span> Parent();</span><br><span class="line">		method1(parentB);</span><br><span class="line">		method2(parentB);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//결과</span></span><br><span class="line"><span class="comment">//method1 -&gt; Child로 변환 성공</span></span><br><span class="line"><span class="comment">//method2 -&gt; Child로 변환 성공</span></span><br><span class="line"><span class="comment">//method1 -&gt; Child로 변환되지 않음</span></span><br><span class="line"><span class="comment">//Exception in thread "main" java.lang.ClassCastException: polymorphism004.Parent cannot be cast to polymorphism004.Child</span></span><br><span class="line">	<span class="comment">//at polymorphism004.InstanceOfSample.method2(InstanceOfSample.java:15)</span></span><br><span class="line">	<span class="comment">//at polymorphism004.InstanceOfSample.main(InstanceOfSample.java:27)</span></span><br></pre></td></tr></table></figure></div></article></div></main><footer><div class="paginator"><a class="prev" href="/2017/12/05/2017-12-05-Java/">prev</a><a class="next" href="/2017/12/01/2017-12-01-hexo/">next</a></div><div id="disqus_thread"></div><script>var disqus_shortname = 'youmekko';
var disqus_identifier = '2017/12/04/2017-12-04-Java/';
var disqus_title = '다형성(Polymorphism)';
var disqus_url = 'http://yoursite.com/2017/12/04/2017-12-04-Java/';
(function () {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//#{theme.disqus}.disqus.com/count.js" async></script><div class="copyright"><p>&copy; 2016 - 2020 <a href="https://www.example.org/john-doe" target="_blank" rel="noopener">John Doe</a>.<br>Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> &amp; <a href="https://github.com/Dreyer/hexo-theme-artemis" target="_blank">Artemis</a>.</p></div></footer></div></body></html>