<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title>오늘자 의식의 흐름... | Youmekko</title><meta name="description" content="오늘자 의식의 흐름... - Youme Choi"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/theme.css"><link rel="search" type="application/opensearchdescription+xml" href="/atom.xml" title="Youmekko"><meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="Youmekko" type="application/atom+xml">
</head><body><div class="wrap"><header><h1 class="branding"><a href="/" title="Youmekko">Youmekko</a></h1><ul class="nav nav-list"><li class="nav-list-item"><a class="nav-list-link" href="/" target="_self">HOME</a></li><li class="nav-list-item"><a class="nav-list-link" href="/archives" target="_self">ARCHIVES</a></li><li class="nav-list-item"><a class="nav-list-link" href="https://github.com/youmekko" target="_blank">GITHUB</a></li><li class="nav-list-item"><a class="nav-list-link" href="/atom.xml" target="_self">RSS</a></li><li class="nav-list-item"><a class="nav-list-link" href="/about" target="_self">ABOUT</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">오늘자 의식의 흐름...</h1><div class="post-info"><a></a>2020-01-08</div><div class="post-content"><p>오늘자 의식의 흐름… 링크가 빠진것도 있네요. 죄송합니다..</p>
<p>Nuxt</p>
<p>Nuxt는 Vue.js 어플리케이션을 만드는 프레임워크이다..</p>
<p>주요 범위는 클라이언트, 서버 배포를 추상화하는 동안의 UI Rendering이다.</p>
<p>서버사이드렌더링(SSR) vs 클라이언트사이드렌더링(CSR)</p>
<p><a href="https://velog.io/@zansol/확인하기-서버사이드렌더링SSR-클라이언트사이드렌더링CSR" target="_blank" rel="noopener">https://velog.io/@zansol/%ED%99%95%EC%9D%B8%ED%95%98%EA%B8%B0-%EC%84%9C%EB%B2%84%EC%82%AC%EC%9D%B4%EB%93%9C%EB%A0%8C%EB%8D%94%EB%A7%81SSR-%ED%81%B4%EB%9D%BC%EC%9D%B4%EC%96%B8%ED%8A%B8%EC%82%AC%EC%9D%B4%EB%93%9C%EB%A0%8C%EB%8D%94%EB%A7%81CSR</a></p>
<p>MVVM</p>
<p><a href="https://tech.kakao.com/2019/11/27/kakao-business-vue-component-test/?fbclid=IwAR03t6fGCiBjRHXzSx-ittKTVCJ9O_7fb2LGpbW-6DgGKUN8bIEPjpG2T_o" target="_blank" rel="noopener">https://tech.kakao.com/2019/11/27/kakao-business-vue-component-test/?fbclid=IwAR03t6fGCiBjRHXzSx-ittKTVCJ9O_7fb2LGpbW-6DgGKUN8bIEPjpG2T_o</a></p>
<p>PO(Page Object) <a href="https://martinfowler.com/bliki/PageObject.html" target="_blank" rel="noopener">https://martinfowler.com/bliki/PageObject.html</a></p>
<p>MVVM에서 view template이 로직을 나누어 가지지 않는게 좋다.  테스트코드가 view를 그리는 레벨과 최대한 직접 관계를 맺지 않는 장치이다. view의 변화율은 어플리케이션에서 다른 무엇보다 변화율이 높아서 프레임웍의 refs를 통해서 view에 접근하듯이 PO를 중간에 두자는 관점이다. 그래서 템플릿에 :if=isRight&amp;&amp;isNotLeft.. 처럼 view에 관여하는 로직이 포함되어있다면 어서 제거를하라.</p>
<p>테스트시 템플릿에 로직이 있으면.. 뷰에 직접 접근할 수 밖에 없으니 PO를 두고 로직을 제거하면 좋다는 내용..</p>
<ul>
<li>javascript test framework 테스트 프레임 웍 ava<ul>
<li>ava :  Nuxt 공식 가이드 문서에서 추천하는 도구</li>
</ul>
</li>
<li>테스트 더블을 위해 sinon (sinon.js)</li>
<li>Vue 컴포넌트 테스트를 좀 더 쉽게 도와주는 vue-test-util - 현재 Vue 팀 및 오픈 소스 커뮤니티로부터 제공 되는 공식 테스트 유틸리티 라이브러리다…</li>
</ul>
<p><a href="https://beomy.tistory.com/43" target="_blank" rel="noopener">https://beomy.tistory.com/43</a></p>
<p>MVVM (Model + View + View Model)</p>
<p>(User) =&gt; View =&gt; View Model &lt;=&gt; model</p>
<p>(View Model = View를 표현하기 위해 만든 View를 위한 Model입니다. View를 나타내주기 위한 Model이자 View를 나타내기 위한 데이터를 처리하는 부분)</p>
<p>(Model = 어플리케이션에서 사용되는 테이어와 그 데이터를 처리하는 부분)</p>
<p>MVVM의 동작</p>
<ol>
<li><p>사용자의 Action들은 View를 통해 들어온다.</p>
</li>
<li><p>View에 액션이 들어오면, Command패턴으로 View Model에 Action을 전달한다.</p>
</li>
<li><p>View Model은 Model에게 데이터를 요청한다.</p>
</li>
<li><p>Model은 View Model에게 요청 받은 데이터를 응답합니다.</p>
</li>
<li><p>View Model은 응답 받은 데이터를 가공해 저장한다.</p>
</li>
<li><p>View는 View Model과 Data Binding을 해 화면을 나타낸다.</p>
</li>
</ol>
<p>MVVM 특징</p>
<p>MVVM은 Command 패턴과 Data Biding 두가지 패턴을 사용해 구현됐다.</p>
<p>Command 패턴과 Data Biding을 이용해 View 와 View Model 사이의 의존성을 없앴다..</p>
<p>View Model과 View는 1: n 관계이다</p>
<p>장점</p>
<p>MVVM 패턴은 View와 Model 사이의 의존성이 없어졌다. 또한 Command패턴과 Data Biding을 사용해 View와 View 모델 사이의 의존성 또한 없어진 디자인 패턴이다.</p>
<p>각각의 부분이 독립적이기 때문에 모듈화 해서 개발할 수 있다.</p>
<p>단점</p>
<p>View Model의 설계가 쉽지 않다.</p>
<p>Vue컴포넌트 리팩토링 + 테스트 전략</p>
<ul>
<li>리팩토링 <ul>
<li>템플릿에서 로직(표현식)을 분리하고 computed, methods 활용</li>
</ul>
</li>
<li>테스트 전략<ul>
<li>돔에 접근해(ex: ref, class, id) 렌더링 된 결과물을 확인하기 보다는.. <strong>컴포넌트데이터</strong> 를 확인하자</li>
<li>컴포넌트 데이터의 템플릿 바인딩 여부는 … snapshot이나 e2e에게 책임을</li>
</ul>
</li>
<li>스냅샵 테스트</li>
</ul>
<p>Vue컴포넌트 테스트 작성 과정</p>
<p>유닛테스트, 컴포넌트 테스트</p>
<p>환경구성 - 컴포넌트 생성 테스트 - 컴포넌트 데이터 테스트 - 컴포넌트 간 테스트</p>
<ol>
<li>환경구성</li>
</ol>
<p>테스트가 필요한 이유</p>
<p>운영중인 코드를 리팩토링 할 때, 테스트코드가 안정성을 도와주고 추상적인 진행상황을 가시적으로 측정 가능하게 해준다.</p>
<p>…</p>
<p>Ajax, 네트워킹, 타임 아웃, 데이터베이스 또는 기타 종석송을 가진 코드를 테스트하는것은 어렵다. 예를 들어 ajax 또는 네트워킹을 사용하는 경우 요청에 응답하는 서버가 있어야한다.</p>
<p>DB의 경우 테스트를 위한 데이터롤 테스트 DB를 설정해야 한다. </p>
<p>이 모든것은 테스트 작성 및 실행이 더 어려워진다.. 테스트를 성공적으로 수행 할 수 있는 환경을 준비하고.. 설정하기 위해 추가작업이 필요하다.</p>
<p>sinon.js를 통해 번거로움을 피할수 있다.</p>
<ul>
<li>유닛테스트 = 단위테스트, 통합테스트(Intergration), E2E테스트</li>
<li>테스트 프레임웍, 단언문(assertion), 테스트 커버리지, 테스트 더블(test double, spy, stub), 테스트 케이스</li>
</ul>
<p>Javascript test framework</p>
<p><a href="https://www.browserstack.com/guide/top-javascript-testing-frameworks" target="_blank" rel="noopener">https://www.browserstack.com/guide/top-javascript-testing-frameworks</a></p>
<p>mocha - jest - jasmine - karma - puppeteer</p>
<p><a href="https://ui.toast.com/weekly-pick/ko_20180822/" target="_blank" rel="noopener">https://ui.toast.com/weekly-pick/ko_20180822/</a></p>
<p><a href="https://joshua1988.github.io/vue-camp/testing/overview.html#무엇을-어떻게-테스트-할-것인가" target="_blank" rel="noopener">https://joshua1988.github.io/vue-camp/testing/overview.html#%EB%AC%B4%EC%97%87%EC%9D%84-%EC%96%B4%EB%96%BB%EA%B2%8C-%ED%85%8C%EC%8A%A4%ED%8A%B8-%ED%95%A0-%EA%B2%83%EC%9D%B8%EA%B0%80</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install jest @vue/<span class="built_in">test</span>-utils vue-jest babel-jest --save-dev</span><br></pre></td></tr></table></figure>

<p><a href="https://gongzza.github.io/javascript/vuejs/vue-unit-testing-with-jest/" target="_blank" rel="noopener">https://gongzza.github.io/javascript/vuejs/vue-unit-testing-with-jest/</a></p>
<p>yarn vs npm <a href="https://medium.com/@ehddnjs8989/npm-vs-yarn-3a611c89d291" target="_blank" rel="noopener">https://medium.com/@ehddnjs8989/npm-vs-yarn-3a611c89d291</a></p>
<p>: 퍼포먼스나 안정성 부분은.. 비등비등하다고 한다.</p>
<p>facebook에서 yarn을 개발한 메인 이유중 하나는 더 좋은 방법으로 npm의 시큐리티에 접근하는 것이다.</p>
<p>npm은 패키지가 설치될 때 자동으로..코등와 의존성을 실행할 수 있도록 허용했다. 이 특징은 편리하나 안정성의 위험도가 증가했다. </p>
<p>특히 정책없이 등록했던 패키지의 체출물 부분에서 위험도가 높았다.</p>
<p>반연에 yanr은 yanr.lock이나 package.json으로부터 설치만 한다.</p>
<p><strong>더 구체적으로 말하자면 yarn.lock은 모든 디바이스에 같은 패키지를 설치하는 것을 보장하여 다른 버전을 설치로부터 버그가 오는 많은 양을 줄여버렸다.</strong></p>
<p>npm —save와 –save-dev</p>
<p>–save만 하면 package.json의 dependencies 들어가고 (npm5부터는 –save옵션이 기본이라 따로 안붙여도 된다.)</p>
<p>–save-dev(–save-D)하면 devDependencies에 들어간다. </p>
<p>당연하지만 devDependencies는 프로덕션 빌드시 해당 플러그인이 포함되지 않는다.</p>
</div></article></div></main><footer><div class="paginator"><a class="prev" href="/2020/01/10/2020-01-10-TodaysNote/">prev</a><a class="next" href="/2019/12/19/2019-12-19-git/">next</a></div><div class="copyright"><p>&copy; 2016 - 2020 <a href="https://www.example.org/john-doe" target="_blank" rel="noopener">John Doe</a>.<br>Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> &amp; <a href="https://github.com/Dreyer/hexo-theme-artemis" target="_blank">Artemis</a>.</p></div></footer></div></body></html>