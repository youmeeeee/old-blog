<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title>(최범균의JSP2.3) cookie | Youmekko</title><meta name="description" content="(최범균의JSP2.3) cookie - Youme Choi"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/theme.css"><link rel="search" type="application/opensearchdescription+xml" href="/atom.xml" title="Youmekko"><meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="Youmekko" type="application/atom+xml">
</head><body><div class="wrap"><header><h1 class="branding"><a href="/" title="Youmekko">Youmekko</a></h1><ul class="nav nav-list"><li class="nav-list-item"><a class="nav-list-link" href="/" target="_self">HOME</a></li><li class="nav-list-item"><a class="nav-list-link" href="/archives" target="_self">ARCHIVES</a></li><li class="nav-list-item"><a class="nav-list-link" href="https://github.com/youmekko" target="_blank">GITHUB</a></li><li class="nav-list-item"><a class="nav-list-link" href="/atom.xml" target="_self">RSS</a></li><li class="nav-list-item"><a class="nav-list-link" href="/about" target="_self">ABOUT</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">(최범균의JSP2.3) cookie</h1><div class="post-info"><a></a>2018-04-28</div><div class="post-content"><p>클라이언트와의 대화♥ 1 : 쿠키 </p>
<h1 id="쿠키-사용하기"><a href="#쿠키-사용하기" class="headerlink" title="쿠키 사용하기"></a>쿠키 사용하기</h1><p>쿠키는 웹 브라우저가 보관하는 데이터이다. 웹 브라우저는 웹 서버에 요청을 보낼 때 쿠키를 함께 전송하며, 웹 서버는 웹 브라우저가 전송한 쿠키를 사용해서 필요한 데이터를 읽을 수 있다. 쿠키는 웹 서버와 웹 브라우저 양쪽에서 생성할 수 있는데 JSP에서 생성하는 쿠키는 웹 서버에서 생성하는 쿠키이다.</p>
<p><strong>쿠키 동작 방식 3단계</strong></p>
<p>(1) 쿠키 생성 단계 : JSP 프로그램에서 쿠키는 웹 서버측에서 생성한다. 생성한 쿠키를 응답 데이터의 헤더에 저장해서 웹 브라우저에 전송한다.</p>
<p>(2) 쿠키 저장 단계 : 웹 브라우저는 응답 데이터에 포함된 쿠키를 쿠키 저장소에 보관한다. 쿠키의 종류에 따라 메모리나 파일에 저장한다.</p>
<p>(3) 쿠키 전송 단계 : 웹 브라우저는 저장한 쿠키를 요청이 있을 때마다 웹 서버에 전송한다. 웹 서버는 웹 브라우저가 전송한 쿠키를 사용해서 필요한 작업을 수행한다.</p>
<h3 id="쿠키의-구성"><a href="#쿠키의-구성" class="headerlink" title="쿠키의 구성"></a>쿠키의 구성</h3><ul>
<li>이름 : 쿠키를 구별하는데 사용되는 이름</li>
<li>값 : 쿠키의 이름과 관련된 값</li>
<li>유효 시간 : 쿠키의 유지 시간</li>
<li>도메인 : 쿠키를 전송할 도메인</li>
<li>경로 : 쿠키를 전송할 요청 경로</li>
</ul>
<p>하나의 웹 브라우저는 여러개의 쿠키를 가질 수 있는데 각 쿠키를 구분할때 이름을 사용한다. 각 쿠키는 값을 가지며 서버는 이 값을 사용해서 원하는 작업을 수행하게 된다.</p>
<h3 id="쿠키-생성하기"><a href="#쿠키-생성하기" class="headerlink" title="쿠키 생성하기"></a>쿠키 생성하기</h3><p>JSP에서 쿠키를 생성할 때는 Cookie 클래스를 이용한다.</p>
 <figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">"html/text; charset=utf-8"</span> %&gt;</span><br><span class="line">&lt;%@ page <span class="keyword">import</span> = <span class="string">"java.net.URLEncoder"</span> %&gt;</span><br><span class="line">&lt;%</span><br><span class="line"><span class="comment">//쿠키 값을 인코딩해서 저장한다.</span></span><br><span class="line">Cookie cookie = <span class="keyword">new</span> Cookie(<span class="string">"name"</span>, URLEncoder.encode(<span class="string">"유미코"</span>, <span class="string">"utf-8"</span>));</span><br><span class="line"><span class="comment">//웹 브라우저에 쿠키 정보를 전송한다.</span></span><br><span class="line">response.addCookie(cookie);</span><br><span class="line">%&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;title&gt;쿠키 생성하기 예제&lt;/title&gt;</span><br><span class="line">    &lt;/head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;%= cookie.getName() %&gt;</span><br><span class="line">        &lt;%= cookie.getValue()%&gt;</span><br><span class="line">    &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p><strong>Cookie 클래스가 제공하는 메소드</strong></p>
<ul>
<li>getName() / getValue() / setValue(String value) / setDomain(Sting pattern) / getDomain() / setPath(String uri) / getPah() / setMaxAge(int expirty) / getMaxAge()</li>
</ul>
<h3 id="쿠키값-읽어오기"><a href="#쿠키값-읽어오기" class="headerlink" title="쿠키값 읽어오기"></a>쿠키값 읽어오기</h3><p>쿠키를 생성하면 그 이후부터는 해당 쿠키를 사용할 수 있다. 웹 브라우저는 요청 헤어데 쿠키를 저장해서 보내며, JSP는 코드를 사용해서 쿠키 값을 읽어올 수 있다.</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType = <span class="string">"html/text charset=utf-8"</span> %&gt;</span><br><span class="line">&lt;%@ page <span class="keyword">import</span> = <span class="string">"java.net.URLEncoder"</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">    &lt;head&gt;&lt;title&gt;Cookies&lt;/title&gt;&lt;/head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;% Cookie[] cookies = request.getCookies();</span><br><span class="line">        <span class="keyword">if</span>(cookies != <span class="keyword">null</span> &amp;&amp; cookies.length &gt; <span class="number">0</span>&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; cookies.length; i++)&#123;</span><br><span class="line">        %&gt;</span><br><span class="line">        &lt;%= cookies[i].getName() %&gt; = &lt;%= URLDecoder.decode(cookies[i].getValue(), <span class="string">"utf-8"</span>)%&gt; &lt;br /&gt;</span><br><span class="line">        &lt;%</span><br><span class="line">         &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        %&gt;</span><br><span class="line">        쿠키가 존재하지 않습니다</span><br><span class="line">        &lt;%</span><br><span class="line">        &#125;</span><br><span class="line">        %&gt;</span><br><span class="line">    &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p>null  여부를 확인하지 않고 쿠키를 사용하면 NullPointerException이 발생할 수 있으므로, 쿠키를 사용할 때는 항상 확인해야 한다.</p>
<h3 id="쿠키값-변경-및-쿠키-값-삭제"><a href="#쿠키값-변경-및-쿠키-값-삭제" class="headerlink" title="쿠키값 변경 및 쿠키 값 삭제"></a>쿠키값 변경 및 쿠키 값 삭제</h3><ul>
<li>쿠키 값을 변경하려면 같은 이름의 쿠키를 새로 생성해서 응답 데이터로 보내면 된다. </li>
</ul>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;%</span><br><span class="line">Cookie[] cookies = request.getCookies();</span><br><span class="line"><span class="keyword">if</span>(cookies != <span class="keyword">null</span> &amp;&amp; cokies.length &gt; <span class="number">0</span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; cookies.length; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(cookies[i].getName().equals(<span class="string">"내가변경하려는쿠키이름"</span>))&#123;</span><br><span class="line">            Cookie cookie = <span class="keyword">new</span> Cookie(<span class="string">"내가변경하려는쿠키이름"</span>, URLEncoder.encode(<span class="string">"변경할값"</span>, <span class="string">" utf-8"</span>));</span><br><span class="line">            response.addCookie(cookie);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>Cookie 클래스는 쿠키를 삭제하는 기능을 별도로 제공하지 않는다. 쿠키의 유효시간을 0으로 지정해준 후 응답헤더에 추가하면 웹 브라우저가 관련 쿠키를 삭제하게 된다.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Cookie cookie = <span class="keyword">new</span> Cookie(name, value);</span><br><span class="line">cookie.setMaxAge(<span class="number">0</span>);</span><br><span class="line">response.addCookie(cookie);</span><br></pre></td></tr></table></figure>



<h3 id="쿠키의-도메인"><a href="#쿠키의-도메인" class="headerlink" title="쿠키의 도메인"></a>쿠키의 도메인</h3><p>같은 도메인을 사용하는 모든 서버에 쿠키를 보내야할때가 있다. 예를 들어 <a href="http://www.youmekko.com" target="_blank" rel="noopener">www.youmekko.com</a> 서버에서 생성한 쿠키를 mail.youmekko.com 서버와 cafa.youmekko.com 서버에 전송해야 할 때, 이럴 때 setDomain() 메소드를 사용한다.</p>
<p>도메인을 지정할 때 주의할 점은 setDomain() 의 갑으로 현재 서버의 도메인 및 상위 도메인에만 전달할 수 있다는 것이다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cookie.setDomain(<span class="string">".youmekko.com"</span>);</span><br></pre></td></tr></table></figure>

<p>웹 브라우저는 현재 서버의 도메인과 다른 도메인에 대한 쿠키 생성은 허용하지 않는다. (보안 문제)</p>
<h3 id="쿠키의-경로"><a href="#쿠키의-경로" class="headerlink" title="쿠키의 경로"></a>쿠키의 경로</h3><p>쿠키의 경로는 Cookie 클래스의 setPath() 메소드를 사용해서 쿠키를 공유한 기준 경로를 지정한다. 여기서 경로는 URL에서 도메인 이후의 부분에 해당한다.</p>
<p><a href="http://localhost:8080/chap09/path2/viewCookies.jsp" target="_blank" rel="noopener">http://localhost:8080/chap09/path2/viewCookies.jsp</a></p>
<p>쿠키에서 사용하는 경론느 디렉토리 수준의 경로를 사용한다. 위  URL에서는 “/“ 나 “/chatp09”, “/chap09/path2” 등을 쿠키 경로로 사용할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cookie.setPath(<span class="string">"/chap09"</span>);</span><br></pre></td></tr></table></figure>

<p>위 경우 /chap09 또는 그 하위 경로에만 쿠키를 전송한다.</p>
<h3 id="쿠키의-유효시간"><a href="#쿠키의-유효시간" class="headerlink" title="쿠키의 유효시간"></a>쿠키의 유효시간</h3><p>쿠키의 유효시간을 지정하지 않으면 웹 브라우저를 종료할ㄷ 때 쿠키를 함께 삭제한다. 웹 브라우저 종료 후 다시 웹 브라우저를 실행하면 삭제한 쿠키는 서버에 전송되지 않는다. 쿠키의 유효시간을 정해 놓으면 그 유효시간 동안 쿠키가 존재하며, 웹 브라우저를 종료해도 유효 시간이 지나지 않았으면 쿠키를 삭제하지 않는다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//60초 * 60 = 1시간!</span></span><br><span class="line">cookie.setMaxAge(<span class="number">60</span> * <span class="number">60</span>);</span><br></pre></td></tr></table></figure>



<h3 id="쿠키와-헤더"><a href="#쿠키와-헤더" class="headerlink" title="쿠키와 헤더"></a>쿠키와 헤더</h3><p>response.addCookie() 로 쿠키를 추가하면 실제로 Set-Cookie 헤더를 통해서 전달 된다. 한개의 Set-Cookie 헤더는 한개의 쿠키값을 전달한다. </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">쿠키이름&#x3D;쿠키값; Domain&#x3D;도메인값; Path&#x3D;경로값; Expires&#x3D;GMT형식의만료일시;</span><br></pre></td></tr></table></figure>



<h1 id="쿠키-처리를-위한-유틸리티-클래스"><a href="#쿠키-처리를-위한-유틸리티-클래스" class="headerlink" title="쿠키 처리를 위한 유틸리티 클래스"></a>쿠키 처리를 위한 유틸리티 클래스</h1><p>더욱 편리하게 쿠키를 사용할 수 있도록 도와주는 보조 유틸리티 클래스 <del>(당장 사용할 일은 없지만)</del></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> util;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.Cookies;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> java.net.URLEncoder;</span><br><span class="line"><span class="keyword">import</span> java.net.URLDecoder;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Cookies</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Map&lt;String, Cookie&gt; cookieMap = </span><br><span class="line">        <span class="keyword">new</span> Java.util.HashMap&lt;String, Cookie&gt;();</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Cookies</span><span class="params">(HttpServletRequest requset)</span></span>&#123;</span><br><span class="line">       Cookie[] cookies = request.getCookies();</span><br><span class="line">        <span class="keyword">if</span>(cookies != <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i &lt; cookies.lengh; i++)&#123;</span><br><span class="line">                cookieMap.put(cookies[i].getName(), cookies[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> Cookie <span class="title">getCookie</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> cookieMap.get(name);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getValue</span><span class="params">(String name)</span> <span class="keyword">throws</span> IOException</span>&#123;</span><br><span class="line">        Cookie cookie = cookieMap.get(name);</span><br><span class="line">        <span class="keyword">if</span>(cookie ==<span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> URLDecoder.decode(cookie.getValue(), <span class="string">"euc-kr"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">exists</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> cookieMap.get(name) != <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Cookie <span class="title">createCookie</span><span class="params">(String name, String value)</span> <span class="keyword">throws</span> IOException</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Cookie(name, URLEncoder.encode(value, <span class="string">"utf-8"</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Cookie <span class="title">createCookies</span><span class="params">(String name, String value, String path, <span class="keyword">int</span> maxAge)</span> <span class="keyword">throws</span> IOException</span>&#123;</span><br><span class="line">        Cookie cookie = <span class="keyword">new</span> Cookie(name, URLEncoder.encode(value, <span class="string">"utf-8"</span>));</span><br><span class="line">        cookie.setPath(path);</span><br><span class="line">        cookie.setMaxAge(maxAge);</span><br><span class="line">        <span class="keyword">return</span> cookie;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Cookie <span class="title">createCookies</span><span class="params">(String name, String name, String domain, String path, <span class="keyword">int</span> maxAge)</span> <span class="keyword">throws</span> IOException</span>&#123;</span><br><span class="line">        Cookie cookie = <span class="keyword">new</span> Cookie(name, URLEncoder.encode(value, <span class="string">"utf-8"</span>));</span><br><span class="line">        cookie.setDomain(domain);</span><br><span class="line">        cookie,setPath(path);</span><br><span class="line">        cookie.setMaxAge(maxAge);</span><br><span class="line">        <span class="keyword">return</span> cookie;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Cookies 클래스를 사용하려면 먼저 Cookies.java를 컴파일해서 Cookies.class를 생성해야 한다. Cookies클래스가 사용하는 Cookie 클래스는 서블릿  API 에 포함되어 있으므로 톰캣의 servlet-api.jar파일을 클래스 패스에 추가되어야 한다.</p>
<h3 id="Cookies-클래스를-이용한-쿠키-생성"><a href="#Cookies-클래스를-이용한-쿠키-생성" class="headerlink" title="Cookies 클래스를 이용한 쿠키 생성"></a>Cookies 클래스를 이용한 쿠키 생성</h3><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;% </span><br><span class="line">   response.addCookie(Cookies.createCookie(<span class="string">"name"</span>, <span class="string">"유미코"</span>));</span><br><span class="line">   response.addCookie(Cookies.createCookie(<span class="string">"id"</span>, <span class="string">"youmekko"</span>, <span class="string">"/chap09"</span>, -<span class="number">1</span>));</span><br><span class="line">%&gt;</span><br></pre></td></tr></table></figure>



<h3 id="Cookies-클래스를-이용한-쿠키-읽기"><a href="#Cookies-클래스를-이용한-쿠키-읽기" class="headerlink" title="Cookies 클래스를 이용한 쿠키 읽기"></a>Cookies 클래스를 이용한 쿠키 읽기</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//request 기본 객체로부터 쿠키 정보 읽어오기</span></span><br><span class="line">Cookies cookies = <span class="keyword">new</span> Cookies(request);</span><br><span class="line"><span class="comment">//쿠키가 존재하는 지 확인</span></span><br><span class="line"><span class="keyword">if</span>(cookies.exists(<span class="string">"name"</span>))&#123;</span><br><span class="line">    <span class="comment">// Cookie 클래스로 사용할 경우 getCookie() 메소드 사용</span></span><br><span class="line">    Cookie cookie = cookies.getCookie(<span class="string">"name"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(cookies.exists(<span class="string">"id"</span>))&#123;</span><br><span class="line">    <span class="comment">//값만 사용할 경우 getValue() 메소드 사용ㄴ</span></span><br><span class="line">    String value = cookies.getValue(<span class="string">"name"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h1 id="쿠키를-사용한-로그인-상태-유지"><a href="#쿠키를-사용한-로그인-상태-유지" class="headerlink" title="쿠키를 사용한 로그인 상태 유지"></a>쿠키를 사용한 로그인 상태 유지</h1><ol>
<li>로그인에 성공하면 특정이름을 갖는 쿠키를 생성한다.</li>
<li>해당 쿠키가 존재하면 로그인한 상태라고 판단한다.</li>
<li>로그아웃 하면 해당 쿠키를 삭제한다.</li>
</ol>
<p>앞서 포스팅한 session의 로그인 상태 유지와 흡사하다.</p>
</div></article></div></main><footer><div class="paginator"><a class="prev" href="/2018/04/28/2018-04-28-W.I.L/">prev</a><a class="next" href="/2018/04/28/2018-04-28-Session/">next</a></div><div id="disqus_thread"></div><script>var disqus_shortname = 'youmekko';
var disqus_identifier = '2018/04/28/2018-04-28-Cookie/';
var disqus_title = '(최범균의JSP2.3) cookie';
var disqus_url = 'http://yoursite.com/2018/04/28/2018-04-28-Cookie/';
(function () {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//#{theme.disqus}.disqus.com/count.js" async></script><div class="copyright"><p>&copy; 2016 - 2020 <a href="https://www.example.org/john-doe" target="_blank" rel="noopener">John Doe</a>.<br>Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> &amp; <a href="https://github.com/Dreyer/hexo-theme-artemis" target="_blank">Artemis</a>.</p></div></footer></div></body></html>